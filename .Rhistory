)
# Apply controlled line breaks (optional)
puzzle_data$label_wrapped <- str_wrap(puzzle_data$label, width = 10)  # Adjust width as needed
# Plot
ggplot(puzzle_data, aes(x, y)) +
geom_tile(aes(fill = color), color = "white",
width = 0.85, height = 0.85, alpha = 0.8, linewidth = 1) +
geom_richtext(
aes(label = label),
fill = NA,
label.color = NA,
size = 5,
color = "black",
fontface = "bold",
lineheight = 0.9,
hjust = 0.5,
vjust = 0.5
) +
scale_fill_identity() +
coord_fixed() +
theme_void() +
theme(plot.margin = margin(1, 1, 1, 1, "cm"))
library(ggtext)  # for geom_richtext
# Define puzzle data
puzzle_data <- data.frame(
x = rep(1:3, each = 3),
y = rep(3:1, times = 3),
label = c("Epidemiology", "Causal<br>Inference", "Public<br>Health",
"Data<br>Science", "RCTs", "Implementation<br>Science",
"Biostatistics", "AI", "Global<br>Health"),
color = rep(c("#E69F00", "#56B4E9", "#009E73"), 3)
)
# Plot
ggplot(puzzle_data, aes(x, y)) +
geom_tile(aes(fill = color), color = "white",
width = 0.85, height = 0.85, alpha = 0.8, linewidth = 1) +
geom_richtext(
aes(label = label),
fill = NA,
label.color = NA,
size = 5,
color = "black",
fontface = "bold",
lineheight = 0.9,
hjust = 0.5,
vjust = 0.5
) +
scale_fill_identity() +
coord_fixed() +
theme_void() +
theme(plot.margin = margin(1, 1, 1, 1, "cm"))
# Define puzzle data
puzzle_data <- data.frame(
x = rep(1:3, each = 3),
y = rep(3:1, times = 3),
label = c("Epidemiology", "Causal<br>Inference", "Public<br>Health",
"Data<br>Science", "RCTs", "Implementation<br>Science",
"Biostatistics", "A.I.", "Global<br>Health"),
color = rep(c("#E69F00", "#56B4E9", "#009E73"), 3)
)
# Plot
ggplot(puzzle_data, aes(x, y)) +
geom_tile(aes(fill = color), color = "white",
width = 0.85, height = 0.85, alpha = 0.8, linewidth = 1) +
geom_richtext(
aes(label = label),
fill = NA,
label.color = NA,
size = 5,
color = "black",
fontface = "bold",
lineheight = 0.9,
hjust = 0.5,
vjust = 0.5
) +
scale_fill_identity() +
coord_fixed() +
theme_void() +
theme(plot.margin = margin(1, 1, 1, 1, "cm"))
# Plot
ggplot(puzzle_data, aes(x, y)) +
geom_tile(aes(fill = color), color = "white",
width = 0.9, height = 0.9, alpha = 0.8, linewidth = 1) +
geom_richtext(
aes(label = label),
fill = NA,
label.color = NA,
size = 5,
color = "black",
fontface = "bold",
lineheight = 0.9,
hjust = 0.5,
vjust = 0.5
) +
scale_fill_identity() +
coord_fixed() +
theme_void() +
theme(plot.margin = margin(1, 1, 1, 1, "cm"))
# Plot
ggplot(puzzle_data, aes(x, y)) +
geom_tile(aes(fill = color), color = "white",
width = 1, height = 1, alpha = 0.8, linewidth = 1) +
geom_richtext(
aes(label = label),
fill = NA,
label.color = NA,
size = 5,
color = "black",
fontface = "bold",
lineheight = 0.9,
hjust = 0.5,
vjust = 0.5
) +
scale_fill_identity() +
coord_fixed() +
theme_void() +
theme(plot.margin = margin(1, 1, 1, 1, "cm"))
# Plot
ggplot(puzzle_data, aes(x, y)) +
geom_tile(aes(fill = color), color = "white",
width = 1, height = 1, alpha = 0.8, linewidth = 1) +
geom_richtext(
aes(label = label),
fill = NA,
label.color = NA,
size = 4.5,
color = "black",
fontface = "bold",
lineheight = 0.9,
hjust = 0.5,
vjust = 0.5
) +
scale_fill_identity() +
coord_fixed() +
theme_void() +
theme(plot.margin = margin(1, 1, 1, 1, "cm"))
library(tidyverse)
# Define puzzle data
puzzle_data <- data.frame(
x = rep(1:3, each = 3),
y = rep(3:1, times = 3),
label = c("Epidemiology", "Causal<br>Inference", "Public<br>Health",
"Data<br>Science", "RCTs", "Implementation<br>Science",
"Biostatistics", "AI", "Global<br>Health"),
color = rep(c("#E69F00", "#56B4E9", "#009E73"), 3)
)
# Apply controlled line breaks (optional)
puzzle_data$label_wrapped <- str_wrap(puzzle_data$label, width = 10)  # Adjust width as needed
# Plot
library(ggtext)  # for geom_richtext
# Define puzzle data
puzzle_data <- data.frame(
x = rep(1:3, each = 3),
y = rep(3:1, times = 3),
label = c("Epidemiology", "Causal<br>Inference", "Public<br>Health",
"Data<br>Science", "Clinical Trials", "Implementation<br>Science",
"Biostatistics", "A.I.", "Global<br>Health"),
color = rep(c("#E69F00", "#56B4E9", "#009E73"), 3)
)
# Plot
ggplot(puzzle_data, aes(x, y)) +
geom_tile(aes(fill = color), color = "white",
width = 1, height = 1, alpha = 0.8, linewidth = 1) +
geom_richtext(
aes(label = label),
fill = NA,
label.color = NA,
size = 4.5,
color = "black",
fontface = "bold",
lineheight = 0.9,
hjust = 0.5,
vjust = 0.5
) +
scale_fill_identity() +
coord_fixed() +
theme_void() +
theme(plot.margin = margin(1, 1, 1, 1, "cm"))
# Define puzzle data
puzzle_data <- data.frame(
x = rep(1:3, each = 3),
y = rep(3:1, times = 3),
label = c("Epidemiology", "Causal<br>Inference", "Public<br>Health",
"Data<br>Science", "Clinical<br>Trials", "Implementation<br>Science",
"Biostatistics", "A.I.", "Global<br>Health"),
color = rep(c("#E69F00", "#56B4E9", "#009E73"), 3)
)
# Plot
ggplot(puzzle_data, aes(x, y)) +
geom_tile(aes(fill = color), color = "white",
width = 0.9, height = 0.9, alpha = 0.8, linewidth = 1) +
geom_richtext(
aes(label = label),
fill = NA,
label.color = NA,
size = 4.5,
color = "black",
fontface = "bold",
lineheight = 0.9,
hjust = 0.5,
vjust = 0.5
) +
scale_fill_identity() +
coord_fixed() +
theme_void() +
theme(plot.margin = margin(1, 1, 1, 1, "cm"))
# Plot
ggplot(puzzle_data, aes(x, y)) +
geom_tile(aes(fill = color), color = "white",
width = 0.9, height = 0.9, alpha = 0.8, linewidth = 1) +
geom_richtext(
aes(label = label),
fill = NA,
label.color = NA,
size = 4,
color = "black",
fontface = "bold",
lineheight = 0.9,
hjust = 0.5,
vjust = 0.5
) +
scale_fill_identity() +
coord_fixed() +
theme_void() +
theme(plot.margin = margin(1, 1, 1, 1, "cm"))
# Plot
ggplot(puzzle_data, aes(x, y)) +
geom_tile(aes(fill = color), color = "white",
width = 0.91, height = 0.91, alpha = 0.8, linewidth = 1) +
geom_richtext(
aes(label = label),
fill = NA,
label.color = NA,
size = 4,
color = "black",
fontface = "bold",
lineheight = 0.9,
hjust = 0.5,
vjust = 0.5
) +
scale_fill_identity() +
coord_fixed() +
theme_void() +
theme(plot.margin = margin(1, 1, 1, 1, "cm"))
# Plot
ggplot(puzzle_data, aes(x, y)) +
geom_tile(aes(fill = color), color = "white",
width = 0.95, height = 0.95, alpha = 0.8, linewidth = 1) +
geom_richtext(
aes(label = label),
fill = NA,
label.color = NA,
size = 4,
color = "black",
fontface = "bold",
lineheight = 0.9,
hjust = 0.5,
vjust = 0.5
) +
scale_fill_identity() +
coord_fixed() +
theme_void() +
theme(plot.margin = margin(1, 1, 1, 1, "cm"))
# Plot
ggplot(puzzle_data, aes(x, y)) +
geom_tile(aes(fill = color), color = "white",
width = 0.95, height = 0.95, alpha = 0.8, linewidth = 1) +
geom_richtext(
aes(label = label),
fill = NA,
label.color = NA,
size = 4.5,
color = "black",
fontface = "bold",
lineheight = 0.9,
hjust = 0.5,
vjust = 0.5
) +
scale_fill_identity() +
coord_fixed() +
theme_void() +
theme(plot.margin = margin(1, 1, 1, 1, "cm"))
# Plot
ggplot(puzzle_data, aes(x, y)) +
geom_tile(aes(fill = color), color = "white",
width = 0.93, height = 0.93, alpha = 0.8, linewidth = 1) +
geom_richtext(
aes(label = label),
fill = NA,
label.color = NA,
size = 4.5,
color = "black",
fontface = "bold",
lineheight = 0.9,
hjust = 0.5,
vjust = 0.5
) +
scale_fill_identity() +
coord_fixed() +
theme_void() +
theme(plot.margin = margin(1, 1, 1, 1, "cm"))
library(tidyverse)
library(tidylog)
library(data.table)
db1979 <- fread('~/Downloads/Mortalidade_Geral_1979.csv')
db1979 %>% names
db1979 <-
db1979 %>% select(DATAOBITO, DATANASC, IDADE, SEXO, MUNIOCOR, MUNIRES, CAUSABAS)
View(db1979)
## 711742 / 46
db1989 <- fread('~/Downloads/Mortalidade_Geral_1989.csv')
db1989 %>% names
## 711742 / 46
db1979 <- fread('~/Downloads/Mortalidade_Geral_1979.csv')
db1979 <-
db1979 %>% select(DATAOBITO, DATANASC, IDADE, SEXO, MUNIOCOR, MUNIRES, CAUSABAS, LOCOCOR)
View(db1989)
db1989 <-
db1989 %>% select(DATAOBITO, DATANASC, IDADE, SEXO, MUNIOCOR, MUNIRES, CAUSABAS,LOCOCOR)
## 815774 / 46
db1999 <- fread('~/Downloads/Mortalidade_Geral_1999.csv')
db1999 %>% names
db1999 <-
db1999 %>% select(DTOBITO, DTNASC, IDADE, SEXO, RACACOR,LOCOCOR,
CODMUNOCOR, CODMUNRES, CAUSABAS,contains('LINHA'))
db1999 %>% count(RACACOR)
db1999 %>% count(CODMUNRES) %>% View
db1979 %>% count(CODMUNRES) %>% View
db1979 %>% count(MUNIRES) %>% View
## 938658 / 39
db2009 <- fread('~/Downloads/Mortalidade_Geral_2009.csv')
db2009 %>% names
2009 <-
db2009 %>% select(DTOBITO, HORAOBITO, LOCOCOR, CAUSABAS,contains('LINHA'),
DTNASC, IDADE, SEXO, RACACOR, ESC,
CODMUNOCOR, CODMUNRES)
db2009 <-
db2009 %>% select(DTOBITO, HORAOBITO, LOCOCOR, CAUSABAS,contains('LINHA'),
DTNASC, IDADE, SEXO, RACACOR, ESC,
CODMUNOCOR, CODMUNRES)
## 711742 / 46
db1979 <- fread('~/Downloads/Mortalidade_Geral_1979.csv')
db1979 %>% count(INSTRUCAO)
db1979 <-
db1979 %>% select(DATAOBITO, CAUSABAS, LOCOCOR,
DATANASC, IDADE, SEXO, INSTRUCAO,
MUNIOCOR, MUNIRES)
## 815774 / 46
db1989 <- fread('~/Downloads/Mortalidade_Geral_1989.csv')
db1989 <-
db1989 %>% select(DATAOBITO, CAUSABAS,LOCOCOR,
DATANASC, IDADE, SEXO, INSTRUCAO,
MUNIOCOR, MUNIRES,)
## 938658 / 39
db1999 <- fread('~/Downloads/Mortalidade_Geral_1999.csv')
db1999 <-
db1999 %>% select(DTOBITO, CAUSABAS,contains('LINHA'),
DTNASC, IDADE, SEXO, RACACOR,LOCOCOR,ESC,
CODMUNOCOR, CODMUNRES)
## 1,103,088 / 53
db2009 <- fread('~/Downloads/Mortalidade_Geral_2009.csv')
db2009 <-
db2009 %>% select(DTOBITO, HORAOBITO, LOCOCOR, CAUSABAS,CAUSABAS_O,contains('LINHA'),
DTNASC, IDADE, SEXO, RACACOR, ESC,
CODMUNOCOR, CODMUNRES)
db1979 %>% distinct(MUNIRES)
db1989 %>% distinct(MUNIRES)
db1999 %>% distinct(MUNIRES)
db1999 %>% distinct(CODMUNRES)
library(microdatasus)
library(microdatasus)
microdatasus::fetch_datasus(year_start = 2025, year_end = 2025,
uf = 'SP',
month_start = 1, month_end = 6,
information_system = 'SINAN-Dengue')
microdatasus::fetch_datasus(year_start = 2025, year_end = 2025,
uf = 'SP',
month_start = 1, month_end = 6,
information_system = 'SINAN-DENGUE')
db <-
microdatasus::fetch_datasus(year_start = 2025, year_end = 2025,
uf = 'SP',
month_start = 1, month_end = 6,
information_system = 'SINAN-DENGUE')
library(tidyverse)
library(tidylog)
db %>%
count(SOROTIPO)
db %>% filter(SG_UF=='SP')
db %>% filter(SG_UF=='35')
db %>% filter(SG_UF=='35') %>% count(SOROTIPO)
db %>% filter(SG_UF=='35') %>%
filter(NU_IDADE_N>=10, NU_IDADE_N<=14) %>%
count(SOROTIPO)
db %>% count(NU_IDADE_N)
db %>%
filter(SG_UF=='35') %>%
dplyr::mutate(
NU_IDADE_N = dplyr::case_match(
.data$NU_IDADE_N,
999 ~ NA,
.default = .data$NU_IDADE_N
)
) %>%
# Codigo e valor
dplyr::mutate(
idade_cod = substr(.data$NU_IDADE_N, 1, 1),
idade_value = as.numeric(substr(.data$NU_IDADE_N, 2, 3)),
) %>%
dplyr::mutate(
IDADEminutos = dplyr::case_match(
.data$idade_cod,
"0" ~ idade_value,
.default = NA
)
) %>%
dplyr::mutate(
IDADEhoras = dplyr::case_match(
.data$idade_cod,
"1" ~ idade_value,
.default = NA
)
) %>%
dplyr::mutate(
IDADEdias = dplyr::case_match(
.data$idade_cod,
"2" ~ idade_value,
.default = NA
)
) %>%
dplyr::mutate(
IDADEmeses = dplyr::case_match(
.data$idade_cod,
"3" ~ idade_value,
.default = NA
)
) %>%
dplyr::mutate(
IDADEanos = dplyr::case_match(
.data$idade_cod,
"4" ~ idade_value,
"5" ~ idade_value + 100,
.default = NA
)
) %>%
filter(IDADEanos>=10, IDADEanos<=14) %>%
count(SOROTIPO)
db %>%
filter(SG_UF=='35') %>%
dplyr::mutate(
NU_IDADE_N = dplyr::case_match(
.data$NU_IDADE_N,
999 ~ NA,
.default = .data$NU_IDADE_N
)
) %>%
# Codigo e valor
dplyr::mutate(
idade_cod = substr(.data$NU_IDADE_N, 1, 1),
idade_value = as.numeric(substr(.data$NU_IDADE_N, 2, 3)),
) %>%
dplyr::mutate(
IDADEminutos = dplyr::case_match(
.data$idade_cod,
"0" ~ idade_value,
.default = NA
)
) %>%
dplyr::mutate(
IDADEhoras = dplyr::case_match(
.data$idade_cod,
"1" ~ idade_value,
.default = NA
)
) %>%
dplyr::mutate(
IDADEdias = dplyr::case_match(
.data$idade_cod,
"2" ~ idade_value,
.default = NA
)
) %>%
dplyr::mutate(
IDADEmeses = dplyr::case_match(
.data$idade_cod,
"3" ~ idade_value,
.default = NA
)
) %>%
dplyr::mutate(
IDADEanos = dplyr::case_match(
.data$idade_cod,
"4" ~ idade_value,
"5" ~ idade_value + 100,
.default = NA
)
) %>%
count(IDADEanos)
db %>% names
db %>%
filter(SG_UF=='35') %>%
count(ANO_NASC)
2025-10
2025-14
db %>%
filter(SG_UF=='35') %>%
filter(ANO_NASC>=2010, ANO_NASC<=2015) %>%
count(SOROTIPO)
db %>%
filter(SG_UF=='35') %>%
filter(ANO_NASC>=2009, ANO_NASC<=2015) %>%
count(SOROTIPO)
